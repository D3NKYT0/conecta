#: import hex kivy.utils.get_color_from_hex


<LoginScreen>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/backgrounds/wallpaper_login.jpg'

    FloatLayout:

        MDTopAppBar:
            md_bg_color: hex('#153788')
            specific_text_color: "white"
            pos_hint: {'top': 1}
            left_action_items: [["arrow-left", lambda x: root.backScreen()]]

        BoxLayout:
            pos_hint: {"center_x": .5, "center_y": .7}
            size_hint_y: .2
            size_hint_x: .3

            Image:
                source: "images/logo/conecta_logo.png"
                allow_stretch: True
                keep_ratio: True
                size_hint_y: None
                size_hint_x: None
                width: self.parent.width
                height: self.parent.width/self.image_ratio
            
        MDTextField:
            id: email_field
            hint_text: "Login"
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint_x: .3
            icon_right: 'email'
            icon_right_color: app.theme_cls.primary_color
            write_tab: False

        MDTextField:
            id: password_field
            hint_text: "Senha"
            pos_hint: {"center_x": .5, "center_y": .4}
            size_hint_x: .3
            password: True
            icon_right: 'lock'
            icon_right_color: app.theme_cls.primary_color
            write_tab: False

        MDFillRoundFlatButton:
            text: 'Entrar'
            md_bg_color: hex('#153788')
            pos_hint: {"center_x": .5, "center_y": .3}
            size_hint_x: .2
            text_color: 1,1,1,1
            on_press: root.enter(email_field.text, password_field.text)

        MDTextButton:
            text: 'Esqueci minha senha'
            font_size: '15sp'
            color: app.theme_cls.primary_color
            pos_hint: {"center_x": .5, "center_y": .25}
            on_release:
                root.show_popup()
